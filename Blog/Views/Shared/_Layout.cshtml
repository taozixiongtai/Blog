<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Blog</title>
    <link rel="stylesheet" href="~/css/style.css" asp-append-version="true" />

</head>
<body>
    <header>
        <nav class="navbar">
            <div class="navbar-inner">
                <a class="nav-logo" href="index.html">极简博客</a>
                <div class="nav-menu">
                    <a class="nav-link" asp-controller="Home" asp-action="index"  >Home</a>
                    <a class="nav-link" asp-controller="Home" asp-action="BlogList">Blog</a>
                    <button class="nav-search-btn" id="nav-search-btn" title="搜索"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="7" stroke="#fff" stroke-width="2" /><line x1="16.0607" y1="16.6464" x2="20" y2="20.5858" stroke="#fff" stroke-width="2" stroke-linecap="round" /></svg></button>
                    <button class="theme-toggle" id="theme-toggle" title="切换日夜模式">🌙</button>
                </div>
            </div>
        </nav>
        <div class="search-modal" id="search-modal">
            <button class="search-modal-close" id="search-modal-close" title="关闭">&times;</button>
            <input type="text" class="search-modal-input" id="search-modal-input" placeholder="Type to Search...">
        </div>
    </header>
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>
    <script src="/js/main.js?v=1" asp-append-version="true"></script>
    <script>

        // 搜索弹窗逻辑
        const searchModal = document.getElementById('search-modal');
        const navSearchBtn = document.getElementById('nav-search-btn');
        const searchModalClose = document.getElementById('search-modal-close');
        const searchModalInput = document.getElementById('search-modal-input');
        navSearchBtn.onclick = () => {
          searchModal.classList.add('active');
          setTimeout(() => searchModalInput.focus(), 200);
          document.body.style.overflow = 'hidden';
        };
        searchModalClose.onclick = () => {
          searchModal.classList.remove('active');
          document.body.style.overflow = '';
        };
        // esc关闭
        document.addEventListener('keydown', e => {
          if (e.key === 'Escape') {
            searchModal.classList.remove('active');
            document.body.style.overflow = '';
          }
        });

      
    </script>
</body>
</html>
